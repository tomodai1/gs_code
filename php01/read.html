<!DOCTYPE html>
<html>
<head>
<title>データ表示練習</title>
<meta charset="utf-8">
</head>
<body>
 
<table border='1'>
<tr><th>id</th><th>名前</th><th>種類</th></tr>
 
<?php

    if( ($fp = fopen("data/data.text","r"))=== false ){
	    die("CSVファイル読み込みエラー");
    }
 
    while (($array = fgets($fp)) !== FALSE) {
	
	    //空行を取り除く
	    if(!array_diff($array, array(''))){
		    continue;
	    }
	
	    echo "<tr>";
	    for($i = 0; $i <ount($array); ++$i ){
		    $elem = nl2br(mb_convert_encoding($array[$i], 'UTF-8', 'SJIS'));
		    $elem = $elem === "" ?  "&nbsp;" : $elem;
		    echo("<td>".$elem."</td>");
	    }
	    echo "</tr>";
	
    }
 
    fclose($fp);
?>
 
</table>
 
</body>
</html>